FUNCTION PIOGETVALUE,DATA,ERRDATA,TYPE,UNIT,COMMENT,NAME,GROUPUNIT

PIOLibIDLSO=shared_lib_path('PIOLibIDL.so')

 CASE (STRING(TYPE)) OF
     "PIOLONG": DATA = LONG64(0)
     "PIOBYTE": DATA = BYTE(0)
     "PIOSHORT": DATA = FIX(0)
     "PIOFLOAT": DATA = FLOAT(0)
     "PIODOUBLE": DATA = DOUBLE(0)
     "PIOCOMPLEX": DATA = COMPLEX(0)
     "PIODBLCOMPLEX": DATA = DCOMPLEX(0)
     ELSE: return,0.
 END

ERRDATA=DATA
TEMPNAME =BYTARR(128)
A=LONG64(0)
B=LONG64(0)
C=LONG64(0)
ERR=LONG64(0)
TEMP2=TEMPNAME
TEMP3=TEMPNAME
ERR= call_external(PIOLibIDLSO,'piogetvalueidl', $
              DATA,ERRDATA,PIOSTRING2C(TYPE),PIOSTRING2C(NAME), $
              TEMPNAME,TEMP2,TEMP3, LONG64(GROUPUNIT), A,B,C,/L64_VALUE)
COMMENT = STRMID(STRING(TEMPNAME),0,A)
TYPE = STRMID(STRING(TEMP3),0,c)
UNIT = STRMID(STRING(TEMP2),0,b)
RETURN,ERR

END
